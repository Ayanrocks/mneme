<div align="center">
  <img src="assets/logo.png" alt="Mneme Logo" width="200" height="200">

  # Mneme

  **The Personal Search Engine for your Digital Brain**

  [![Go Report Card](https://goreportcard.com/badge/github.com/ayanrocks/mneme)](https://goreportcard.com/report/github.com/ayanrocks/mneme)
  ![License](https://img.shields.io/badge/license-MIT-blue.svg)
  ![Version](https://img.shields.io/badge/version-0.5.0-green.svg)
</div>

---

## ğŸ“– Introduction

**Mneme** (/ËˆniËmiË/; Greek: ÎœÎ½Î®Î¼Î·) (named after the Greek muse of memory) is a powerful, local-first search engine designed to index and retrieve your personal documents, code, and notes with lightning speed. Unlike diverse `grep` tools, Mneme builds a persistent, optimized index of your content, allowing for instant search results with relevance ranking.

Whether you have thousands of markdown notes, a vast library of PDF documents, or a sprawl of code repositories, Mneme helps you recall information instantly.

## âœ¨ Features

- **ğŸš€ Blazing Fast Indexing**: Utilizes LSM-tree inspired batch processing to handle large datasets with minimal memory footprint.
- **ğŸ§  Smart Ranking**: Implements **BM25** and **Vector Space Model (VSM)** algorithms to surface the most relevant results, not just keyword matches.
- **ğŸ”® Fuzzy Search**: Tolerates typos and misspellings using **Trigram Indexing + Levenshtein Distance** â€” so `"kuberntes"` still finds `"kubernetes"`.
- **ğŸ” Content Awareness**: 
    - Automatically detects and skips binary files (images, videos, executables).
    - Supports pluggable ingestors for future expansion (e.g., Google Drive, GitHub).
- **ğŸ“ Rich Snippets**: Generates context-aware snippets with accurate highlighting of search terms.
- **ğŸ›¡ï¸ Safe Storage**: includes a "Tombstone" mechanism to safely handle deletions and updates without immediate data loss.
- **âš™ï¸ highly Configurable**: Customize everything from indexing paths to ranking algorithms via a simple TOML configuration.

## ğŸ“¦ Installation

Ensure you have **Go 1.21+** installed.

```bash
go install github.com/ayanrocks/mneme@latest
```

Verify the installation:

```bash
mneme version
```

## ğŸš€ Quick Start

1.  **Initialize Mneme**:
    Set up the configuration and data directories.
    ```bash
    mneme init
    ```

2.  **Configure**:
    Add the directories you want to index.
    ```bash
    mneme config add /Users/username/docs
    ```

3.  **Index Your Data**:
    Build the search index.
    ```bash
    mneme index
    ```

4.  **Search**:
    Find what you need instantly.
    ```bash
    mneme find "project architecture"
    ```

## âš™ï¸ Configuration

Start with the default configuration generated by `mneme init`. Customize it in `~/.config/mneme/mneme.toml`.

```toml
[sources]
# Lists of directories to index recursively
paths = ['/path/to/docs', '/path/to/code']
# Specific extensions to include (empty = all text files)
include_extensions = ['.md', '.txt', '.go', '.py']
# Specific extensions to exclude
exclude_extensions = ['.log', '.tmp']
# Folders to ignore
ignore = ['.git', 'node_modules', 'vendor']

[index]
# Skip binary files like images/videos (recommended: true)
skip_binary_files = true

[search]
# Number of results to return
default_limit = 20

[ranking]
# Customize ranking weights
bm25_k1 = 1.2
bm25_b = 0.75
```

## ğŸ“‚ Data Storage

Mneme stores its index and metadata in `~/.local/share/mneme`.

- **`segments/`**: Contains the active search index segments.
- **`tombstones/`**: Holds old index files that have been replaced but not yet permanently deleted.
- **`meta/`**: Stores metadata about the index state.

Run `mneme clean` to clear out the `tombstones` directory and reclaim disk space.

## ğŸ› ï¸ Usage

### `mneme config`
Manage configuration.
- **Commands**:
    - `show`: Display current configuration.
    - `add <path>`: Add a directory to index.
    - `remove <path> [-a|--all]`: Remove a directory from index.

### `mneme index`
Crawls your configured paths and builds/updates the search index.
- **Flags**:
    - `-v, --verbose`: Show detailed progress.
    - `-q, --quiet`: Only show errors.

### `mneme find <query>`
Searches the index for the given query.

**Fuzzy search** â€” automatically catches typos and near-matches:
```bash
mneme find "deplyment"           # still finds "deployment"
mneme find "kuberntes config"    # still finds "kubernetes" + "config"
```

**Phrase search** â€” wrap words in quotes to match an exact phrase:
```bash
mneme find "aws region"          # matches the exact phrase "aws region"
```

**Mixed search** â€” combine phrases and individual words:
```bash
mneme find "error handling" go   # matches phrase "error handling" AND word "go"
```

**Individual words** â€” unquoted words are matched independently:
```bash
mneme find deploy production     # matches documents with "deploy" or "production"
```

### `mneme clean`
Manages the storage engine.
- **Usage**: `mneme clean` helps recover space by removing old index segments and tombstones.

## ğŸ§ª Testing

Mneme includes a comprehensive test suite.

```bash
# Run all tests
go test ./...

# Run tests with coverage
go test -race -coverprofile=coverage.out -covermode=atomic ./...
```

For more details on the testing infrastructure, benchmarks, and CI/CD pipeline, please refer to [TESTING.md](TESTING.md).

## ğŸ¤ Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

1.  Fork the repository.
2.  Create your feature branch (`git checkout -b feature/AmazingFeature`).
3.  Commit your changes (`git commit -m 'Add some AmazingFeature'`).
4.  Push to the branch (`git push origin feature/AmazingFeature`).
5.  Open a Pull Request.

## ğŸ“„ License

Distributed under the MIT License. See `LICENSE` for more information.

<br/>
<div align="center">
  <a href="https://buymeacoffee.com/banerjeeayan" target="_blank">
    <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" width="217">
  </a>
</div>